CREATE OR REPLACE PROCEDURE USEREXP(P_DNO NUMBER) 

IS

V_EID NUMBER;

V_ENAME VARCHAR2(12);

V_SAL NUMBER;

V_JOB VARCHAR2(15);

NO_DEPT_FOUND EXCEPTION;

CURSOR C1 IS SELECT EID ,ENAME,SALARY,JOB FROM EMPLOYEE WHERE DNO = P_DNO ;

BEGIN

	OPEN C1;

	FETCH C1 INTO V_EID,V_ENAME,V_SAL,V_JOB; 

	IF  c1%NOTFOUND THEN 

	RAISE NO_DEPT_FOUND;
	
	ELSE

	WHILE C1%FOUND

	LOOP

DBMS_OUTPUT.PUT_LINE(V_EID ||' ' || V_ENAME|| ' '|| V_SAL||' '||V_JOB);

	FETCH C1 INTO V_EID,V_ENAME,V_SAL,V_JOB; 

	END LOOP;
	
	END IF;

	CLOSE C1;
	
EXCEPTION 

WHEN NO_DEPT_FOUND THEN 

DBMS_OUTPUT.PUT_LINE ('P_NO' || ' DOES NOT EXIST ');

	WHEN OTHERS THEN

DBMS_OUTPUT.PUT_LINE ('P_NO' || ' ERROR FOUND CHECK THE VALUES ENTERED ');

END;

